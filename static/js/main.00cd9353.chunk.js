(this.webpackJsonpwuziqi=this.webpackJsonpwuziqi||[]).push([[0],{120:function(l,n,u){"use strict";u.r(n);var e=u(0),s=u(23),t=u.n(s),i=(u(86),u(87),u(122)),r=u(49),a=(u(88),u(11));class c extends e.Component{render(){return Object(a.jsx)("div",{className:"square"})}}class p extends e.Component{renderBoard(){let l=[];for(let n=1;n<=324;n++)l.push(Object(a.jsx)(c,{},"square"+n));for(let n=1;n<=5;n++)l.push(Object(a.jsx)("div",{className:"dot dot"+n},"board"+n));return l}renderPre(){let l=[];for(let n=0;n<19;n++){let u=[];for(let l=0;l<19;l++){let e=this.props.square[n][l],s=1===e?"black-pieces":2===e?"white-pieces":"";u.push(Object(a.jsx)("div",{className:"presuppose-item "+s,onClick:this.props.onClick.bind(null,[n,l])},"presuppose-item"+l))}l.push(Object(a.jsx)("div",{className:"presuppose-row",children:u},"presuppose"+n))}return l}render(){return Object(a.jsxs)("div",{className:"board-box",children:[Object(a.jsx)("div",{className:"board",children:this.renderBoard()}),Object(a.jsx)("div",{className:"presuppose",children:this.renderPre()})]})}}class o extends e.Component{constructor(){super(),this.state={btns:[]}}renderHistory(l){let n=[];for(let u=0;u<l.length;u++)n.push(Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"step",children:l[u].step}),l[u].explain?Object(a.jsx)("div",{className:"presuppose-item black-pieces presuppose-item-small"}):Object(a.jsx)("div",{className:"presuppose-item white-pieces presuppose-item-small"}),Object(a.jsx)("span",{children:"\u843d\u5b50"}),Object(a.jsx)("div",{onClick:()=>{this.props.onClick(u+1)},className:"step-button",children:"Go"})]},"history"+u));return n}render(){return Object(a.jsxs)("div",{className:"history",children:[Object(a.jsx)("header",{className:"history-header",children:"\u5386\u53f2\u8bb0\u5f55"}),Object(a.jsx)("div",{className:"history-content",children:this.renderHistory(this.props.stepExplain)})]})}}class h extends e.Component{constructor(){super(),this.state={visible:!1,text:"",history:[[[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]]],blackIsNext:!0,step:0,stepExplain:[]}}handleClick(l){let[n,u]=l,{history:e,blackIsNext:s,step:t,stepExplain:i}=this.state,r=JSON.parse(JSON.stringify(e[t]));r[n][u]||(r[n][u]=s?1:2,i.splice(this.state.step,i.length),e.splice(this.state.step+1,e.length),i.push({step:e.length,explain:s}),e.push(r),this.setState({history:e,blackIsNext:!s,step:++t,stepExplain:i}),this.calculateWinner(r,s,[n,u]))}through(l){let{blackIsNext:n}=this.state;n=l%2===0,this.setState({step:l,blackIsNext:n})}calculateWinner(l,n,u){let[e,s]=u,t=n?1:2,i=l[e].slice(s-4<0?0:s-4,s+5),r=this.isLine(i,t,1),a=l.slice(e-4<0?0:e-4,e+5),c=this.isLine(a.map((l=>l[s])),t),p=Boolean;{let n=l.slice(e-4<0?0:e-4,e+1),u=n.map(((l,u)=>l[s+n.length-(u+1)])),i=l.slice(e+1,e+5).map(((l,n)=>l[s-(n+1)]));p=this.isLine([...u,...i],t)}let o=Boolean;{let n=l.slice(e-4<0?0:e-4,e+1),u=n.map(((l,u)=>l[s-n.length+u+1])),i=l.slice(e+1,e+5).map(((l,n)=>l[s+n+1]));o=this.isLine([...u,...i],t)}(r||c||p||o)&&this.setState({visible:!0,text:n?"\u9ed1\u5b50\u83b7\u80dc":"\u767d\u5b50\u83b7\u80dc"})}isLine(l,n,u){return l.forEach(((n,u)=>{n||(l[u]="null")})),l.join().replace(/,/g,"").includes(String(n).repeat(5))}reset(){this.setState({history:[[[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]]],visible:!1,text:"",blackIsNext:!0,step:0,stepExplain:[]})}render(){let{history:l,step:n,blackIsNext:u,stepExplain:e}=this.state;return Object(a.jsxs)("div",{className:"game",children:[Object(a.jsx)(i.a,{onCancel:()=>this.reset(),footer:[Object(a.jsx)(r.a,{type:"primary",onClick:()=>this.reset(),children:"\u518d\u6765\u4e00\u6b21"},"reset")],okText:"\u518d\u6765\u4e00\u6b21",title:"\u63d0\u793a",visible:this.state.visible,children:this.state.text}),Object(a.jsx)(p,{className:"board",square:l[n],onClick:l=>this.handleClick(l)}),Object(a.jsx)(o,{stepExplain:e,className:"history",blackIsNext:u,history:l.length,onClick:l=>this.through(l)})]})}}var d=l=>{l&&l instanceof Function&&u.e(3).then(u.bind(null,123)).then((n=>{let{getCLS:u,getFID:e,getFCP:s,getLCP:t,getTTFB:i}=n;u(l),e(l),s(l),t(l),i(l)}))};t.a.render(Object(a.jsx)(h,{}),document.getElementById("root")),d()},86:function(l,n,u){},88:function(l,n,u){}},[[120,1,2]]]);
//# sourceMappingURL=main.00cd9353.chunk.js.map